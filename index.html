<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dynamic Family Tree Viewer</title>
  <style>
    body {
      font-family: monospace;
      white-space: pre;
      padding: 20px;
    }
  </style>
</head>
<body>

<h1>Family Tree</h1>
<pre id="tree"></pre>

<script type="module">
import { parseGEDCOM } from './parse_gedcom.js';
import { findTopAncestors } from './find_top_ancestors.js';
import { buildTree } from './build_tree.js';

async function main() {
  const { individuals, families } = await parseGEDCOM('family_tree.ged');
  const bradenId = "@I0000@";

  const topAncestors = findTopAncestors(individuals, families, bradenId);
  const treeText = buildTree(individuals, families, topAncestors);

  document.getElementById('tree').textContent = treeText;
}

main();
</script>

</body>
</html>
